% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/metab_bayes.R
\name{metab_bayes}
\alias{metab_bayes}
\title{Basic Bayesian metabolism model fitting function}
\usage{
metab_bayes(specs = specs(mm_name("bayes")), data = mm_data(solar.time,
  DO.obs, DO.sat, depth, temp.water, light), data_daily = mm_data(NULL),
  info = NULL, day_start = 4, day_end = 27.99, tests = c("full_day",
  "even_timesteps", "complete_data"))
}
\arguments{
\item{specs}{a list of model specifications and parameters for a model.
Although this may be specified manually, it is easier and safer to use
\code{specs} to generate the list. The help file for that functions lists
the necessary parameters, describes them in detail, and gives default
values.}

\item{data}{data.frame of input data at the temporal resolution of raw 
observations. Columns must have the same names, units, and format as the 
default. See \code{\link{mm_data}} for a full data description.}

\item{data_daily}{data.frame containing inputs with a daily timestep. See 
\code{\link{mm_data}} for a full data description.}

\item{info}{any information, in any format, that you would like to store 
within the metab_model object}
}
\value{
A metab_bayes object containing the fitted model. This object can be 
  inspected with the functions in the \code{\link{metab_model_interface}} and
  also \code{\link{get_mcmc}}.
}
\description{
Fits a Bayesian model to estimate GPP and ER from input data on DO, 
temperature, light, etc. See \code{\link{mm_name}} to choose a Bayesian model
and \code{\link{specs}} for relevant options for the \code{specs} 
argument.
}
\examples{
\dontrun{
# set the date in several formats
start.chron <- chron::chron(dates="08/23/12", times="22:00:00")
end.chron <- chron::chron(dates="08/25/12", times="06:00:00")
start.posix <- as.POSIXct(format(start.chron, "\%Y-\%m-\%d \%H:\%M:\%S"), tz="UTC")
end.posix <- as.POSIXct(format(end.chron, "\%Y-\%m-\%d \%H:\%M:\%S"), tz="UTC")
mid.date <- as.Date(start.posix + (end.posix - start.posix)/2)
start.numeric <- as.numeric(start.posix - as.POSIXct(format(mid.date, "\%Y-\%m-\%d 00:00:00"),
   tz="UTC"), units='hours')
end.numeric <- as.numeric(end.posix - as.POSIXct(format(mid.date, "\%Y-\%m-\%d 00:00:00"),
  tz="UTC"), units='hours')

# get, format, & subset data
vfrench <- streamMetabolizer:::load_french_creek(attach.units=FALSE)
vfrenchshort <- vfrench[vfrench$solar.time >= start.posix & vfrench$solar.time <= end.posix, ]

# fit
mm <- metab_bayes(data=vfrenchshort, day_start=start.numeric, 
  day_end=end.numeric)
get_fit(mm)[2,c('GPP_daily_median','ER_daily_median','K600_daily_median')]
streamMetabolizer:::load_french_creek_std_mle(vfrenchshort, estimate='PRK')
get_fitting_time(mm)
plot_DO_preds(predict_DO(mm))
}
}
\author{
Alison Appling, Bob Hall
}
\seealso{
Other metab_model: \code{\link{metab_Kmodel}},
  \code{\link{metab_mle}}, \code{\link{metab_night}},
  \code{\link{metab_sim}}
}

